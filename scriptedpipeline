node('master') 
{
 stage('Continous Download') 
 {
  git 'https://github.com/intelliqittrainings/maven.git'
 }
 stage('Continous Build') 
 {
  sh 'mvn package'
 }
 stage('Continous Deployment') 
 {
  sh 'scp /home/ubuntu/.jenkins/workspace/Scriptedpipeline/webapp/target/webapp.war ubuntu@172.31.0.255:/var/lib/tomcat8/webapps/ntv-dev.war'
 }
 stage('Continous Testing')
 {
  git 'https://github.com/intelliqittrainings/FunctionalTesting.git'
  sh 'java -jar /home/ubuntu/.jenkins/workspace/Scriptedpipeline/testing.jar'
 }
 stage('Continous Delivery') 
 {
  sh 'scp /home/ubuntu/.jenkins/workspace/Scriptedpipeline/webapp/target/webapp.war ubuntu@172.31.9.186:/var/lib/tomcat8/webapps/ntv-prod.war'
 }
}
